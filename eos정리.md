# 합의 알고리즘(BFT_DPOS)
EOS.IO(토큰)은 반복되는 승인 투표 시스템을 통해 **block producer(BP)**를 선택할 수 있다. 

* EOS.IO는 정확히 0.5초마다 블록을 생산하도록 한다. 
* 매 라운드가 시작될 때 21곳의 BP가 토큰 득표 순에 따라 선택된다. 
* 선정된 BP는 15명 이상의 BP가 합의한 순서에 따라 생산 진행
* BP당 12개씩 블록 생성

* 자기 차례에 블록을 생산하지 않은 BP가 지난 24시간 내에 블록을 생산한 기록이 없었을 경우, 이 BP는 블록을 다시 생산하기 시작한다는 의사를 블록체인에 알릴 때까지 생산 순서에서 제외됩니다. 이것은 신뢰할 수 없다고 판명된 BP에게 계속 생산을 맡겨 누락될 블록 수를 최소화하여 네트워크를 원활하게 작동하도록 보장하기 위함입니다.

* 정상적인 상황에서 BP간 경쟁없이 블록생산 -> fork발생x
 + 발생할 경우 합의해서 가장 긴 체인으로 전환.
    - 더 많은 BP가 참여한 포크는 누락된 블록이 더 적을것. 때문에 BP가 덜 참요한 포크보다 빨리 길어짐
* BP는 동시에 두 개의 포크에 블록 생산 불가. -> BP는 표를 잃게될거다. -> 위반자를 제거하기 위해 이중 생산 발생증거 => 암호학적 증거(cryptographic evidence) 사용

* DPOS + 비잔티움 장애 허용(Byzantine Fault Tolerance, BTF) 기능 추가. 
* BTF ?
    + 모든 BP가 모든 블록에 서명하여 동일한 타임스탬프나 높이(height)를 가지는 두 블록에 서명할 수 없게 하는것
    + 비잔티움 BP가 동일한 타임스탬프나 높이를 가지는 두 블록에 서명하면 이런 반역에 대한 암호학적 증거 남게됨. -> 1초이내에 번복 불가능한 합의에 도달 가능

# 지분 증명 기반 트랜잭션
EOS.IO 내의 모든 트랜잭션에는 최근 블록 헤더의 해시 일부가 포함돼야 합니다. 이 해시는 두 가지 용도로 사용됩니다:

1. 참조된 블록을 포함하지 않는 포크에서 트랜잭션이 재생되는 것을 방지합니다
2. 특정 사용자와 그의 지분이 특정한 포크 상에 존재한다는 것을 네트워크에 알립니다

시간이 지나면 모든 사용자는 결국 직접적으로 블록체인을 확인하게 되는데, 이로 인해 합법적인 체인에서 발생하는 트랜잭션을 위조해 옮겨올 수 없기 때문에 위조 체인 생성이 어려워집니다.


# 2 Oh! s 시작
```
docker exec -it eosio bash  // eosio 쉘 실행. 이것을 keosd 쉘이라 부름
cleos --wallet-url http://127.0.0.1:5555 wallet list keys // wallet 목록 key 보기
```


# tool
+ nodeos (node + eos) : eosio node 대몬 코어. 
    - block production
    - dedicated API endpoints
    - local development
+ cleos (cli + eos) : 블록체인과 상호작용하는 cli 인터페이스. 지갑을 관리한다.
+ keosd (key + eos) = 지갑에 eosio 키를 안전하게 저장하는 컴포넌트
+ eosio-cpp : eosio.cdt의 일부, c++ 코드를 웹어셈으로 컴파일하고 ABIs를 생성한다.

# contract 개발 도구모음
EOSIO Contract Development Toolkit(CDT)


# Wallet
새로운 지갑을 만들때 default값으로 만들려면 ```--to-consle``` 옵션을 사용
